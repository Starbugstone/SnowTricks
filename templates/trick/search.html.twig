{% extends 'base.html.twig' %}

{% block title %}SnowTricks - search trick{% endblock %}

{% block body %}
    <div id="trickSearchContainer">
        <div class="row">
            <form method="post" action="{{ path('trick.searchTrick') }}">
                <div class="input-field col s8 offset-s2 center">
                    <i class="material-icons prefix">search</i>
                    <input placeholder="search tricks" id="search_trick" name="search_trick" type="text" class="validate">
                </div>
                <input type="hidden" name="_token" value="{{ csrf_token('search-trick') }}" />
            </form>

        </div>
        {% if is_granted('ROLE_USER') %}
            <div class="hide-on-med-and-up center">
                <p><a href="{{ path('trick.new') }}">Create a new trick</a></p>
            </div>

        {% endif %}
        <div class="row">
            <div class="col s12 m4 l3 xl2 w100">
                {#
                    TODO: Slide out menu on small, see materialize
                    TODO: better formatting and spacing
                #}
                <ul class="center">
                    <li class="mt-2"><a href="{{ path('trick.search') }}">All</a></li>
                    {% for category in categories %}
                        <li class="mt-2"><a href="{{ path('trick.search', {'categoryId':category.id}) }}">{{ category.Name }}</a></li>
                    {% endfor %}

                </ul>

            </div>
            <div class="col s12 m8 l9 xl10">
                <div class="row flex-center">
                    {% for trick in tricks %}
                        <div class="col l3 m6 s12 xl5ths">
                            {% include 'trick/_trick-card.html.twig' with {'trick': trick} %}
                        </div>
                    {% endfor %}
                </div>

            </div>

        </div>
    </div>


{% endblock %}